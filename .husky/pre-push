#!/bin/bash

# # Allows us to read user input below, assigns stdin to keyboard
# # https://stackoverflow.com/a/10015707/7794529
exec </dev/tty

# Formatting with ANSI escape codes
bold=$(tput bold)
normal=$(tput sgr0)
blue=$(tput setaf 4)
green=$(tput setaf 2)
red=$(tput setaf 1)

branch_name=$(git rev-parse --abbrev-ref HEAD)

if ! echo "$branch_name" | grep -qE "^[0-9]+"; then
    read -p "${blue}This branch doesn't seem to be associated with a GitHub issue number. Press enter to continue anyway, or Ctrl-C to exit. ${normal}" issue
fi

echo "${green}${bold}Pushing...${normal}"

# close STDIN again
exec <&-
